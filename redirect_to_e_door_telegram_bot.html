<script>

function getQueryParams() {
    var params = {};
	var query = window.location.search.substring(1);
    var vars = query.split('&');
	for (var i = 0; i < vars.length; ++i)
    {
        var p = vars[i].split('=');
        if (p.length != 2) continue;
        params[p[0]] = decodeURIComponent(p[1].replace(/\+/g, " "));
    }
    return params;
};

Base64url = {
  encode: function(input) {
    return btoa(input)
        .replace(/\+/g, '-')
        .replace(/\//g, '_')
        .replace(/=+$/, '');
  }
}

var params = getQueryParams();

window.location="https://telegram.me/eDoorBot?start=" + Base64url.encode(params["code"]);

</script>
